(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(45)},37:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(19),o=n.n(i),c=(n(37),n(1)),s=n(5),l=n(3),u=n(2),m=n(4),d=n(10),p=n(6),h=n(18),f=n(7),b={small:576,tablet:750},v={primary:"red"};function y(){var e=Object(p.a)(["\n  @media (max-width: ","px) {\n    justify-content: space-around;\n  }\n\n  font-family: Chomsky;\n  padding: 0 5%;\n  position: sticky;\n  width: 100%;\n  top: 0px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  line-height: 1.3em;\n"]);return y=function(){return e},e}var E=Object(f.a)(h.a.header)(y(),b.tablet);var g=Object(d.b)(function(e){return{hasScrolled:e.userMetrics.scrollY>0,screenWidth:e.userMetrics.screenWidth}})(function(e){var t=e.hasScrolled,n=e.screenWidth,r=Object(h.b)({from:{fontSize:n<=b.small?"2em":"3em"},fontSize:n<=b.small?"2em":t?"2.5em":"3em",background:t?"linear-gradient(white 90%, ".concat(v.primary," 10%)"):"linear-gradient(".concat(v.primary," 0%, ").concat(v.primary," 100%)")});return a.a.createElement(E,{style:r},a.a.createElement("span",null,"Fake Latin News"),n>b.tablet&&a.a.createElement("span",{style:{fontSize:"0.5em",color:"#666"}},"Lorem ipsum dolor sit amet"))}),O=n(29);function j(){var e=Object(p.a)(["\n  border: 1em solid rgba(255, 255, 255, 0.2);\n  border-left: 1em solid;\n  animation: spin 1.5s linear infinite;\n  border-radius: 50%;\n  width: 8em;\n  height: 8em;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return j=function(){return e},e}var w=Object(f.a)(h.a.div)(j()),x=function(){var e=a.a.useState(!1),t=Object(O.a)(e,2),n=t[0],r=t[1];return a.a.useEffect(function(){var e=setTimeout(function(){r(!0)},500);return function(){clearTimeout(e)}},[n]),n?a.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"2em"}},a.a.createElement(w,null)):null};function S(){var e=Object(p.a)(["\n  border-radius: 5px;\n  margin-top: 20px;\n  padding: 5px 15px;\n"]);return S=function(){return e},e}var C=f.a.div(S());function T(){var e=Object(p.a)(["\n  @media (max-width: ","px) {\n    margin-bottom: 10px;\n  }\n"]);return T=function(){return e},e}function k(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10px;\n\n  @media (max-width: ","px) {\n    flex-direction: column;\n  }\n"]);return k=function(){return e},e}var I=f.a.div(k(),b.small),_=f.a.strong(T(),b.small),D=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.body,r=e.email;return a.a.createElement(C,null,a.a.createElement(I,null,a.a.createElement(_,null,t),a.a.createElement("a",{href:"mailto:"+r},r)),a.a.createElement("div",null,n))}}]),t}(r.Component),M=n(9);function W(){var e=Object(p.a)(["\n  border-radius: 10px;\n  padding: 5px 10px;\n  font-weight: bold;\n\n  ",";\n"]);return W=function(){return e},e}var P=f.a.div(W(),function(e){return e.isDisabled?"\n        cursor: default;\n        background-color: lightgray;\n        border: 2px solid lightgray;\n      ":"\n        cursor: pointer;\n        background-color: ".concat(v.primary,";\n        border: 2px solid ").concat(v.primary,";\n      ")}),R=n(15),L=n.n(R),N=function(e){return{type:"REQUEST_COMMENTS",postId:e}},A=function(e,t,n){return{type:"RECEIVE_COMMENTS",items:t,postId:e,error:n}},U=function(e,t){return{type:"ADD_COMMENT",postId:e,formData:t}};function z(){var e=Object(p.a)(["\n  @media (max-width: ","px) {\n    width: 100%;\n  }\n\n  width: 35%\n  border: none;\n  background-color: #efefef;\n  border-radius: 3px;\n  font-weight: bold;\n  line-height: 2em;\n  padding-left: 5px;\n"]);return z=function(){return e},e}var B=f.a.input(z(),b.tablet),F=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={title:"",email:"",body:"",isDisplayingForm:!1},n.handleInputChange=function(e){n.setState(Object(M.a)({},e.currentTarget.name,e.currentTarget.value))},n.handleSubmit=function(){var e=n.props,t=e.dispatch,r=e.postId,a=n.state,i=a.title,o=a.email,c=a.body;""!==i&&""!==o&&""!==c&&(t(U(r,{name:i,email:o,body:c})),n.setState({title:"",email:"",body:""}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.title,r=t.email,i=t.body,o=t.isDisplayingForm,c=this.props.screenWidth;if(!o)return a.a.createElement(C,null,a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(P,{style:{marginBottom:10},onClick:function(){e.setState({isDisplayingForm:!0})}},a.a.createElement("strong",null,"Add a comment"))));var s=""===n||""===r||""===i,l=c<b.small;return a.a.createElement(C,null,a.a.createElement("div",{style:{display:"flex",marginBottom:10,flexDirection:l&&"column"}},a.a.createElement(B,{style:{marginRight:20,marginBottom:l&&10},value:n,onChange:this.handleInputChange,name:"title",placeholder:"Title..."}),a.a.createElement(B,{value:r,onChange:this.handleInputChange,name:"email",placeholder:"Email..."}),!l&&a.a.createElement(P,{style:{marginLeft:"auto"},isDisabled:s,onClick:this.handleSubmit},"Submit")),a.a.createElement("textarea",{style:{width:"100%",border:"none",backgroundColor:"#efefef",borderRadius:"5px",resize:"none",padding:"5px 10px",marginBottom:10},rows:3,name:"body",value:i,onChange:this.handleInputChange,placeholder:"Add a comment..."}),l&&a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(P,{isDisabled:s,onClick:this.handleSubmit},"Submit")))}}]),t}(a.a.Component),V=Object(d.b)(function(e){return{screenWidth:e.userMetrics.screenWidth}})(F);function Y(){var e=Object(p.a)(["\n  @media (max-width: ","px) {\n    width: 100%;\n    margin-left: 0%;\n  }\n\n  margin-left: 5%;\n  width: 90%;\n"]);return Y=function(){return e},e}var Q=f.a.div(Y(),b.tablet),X=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={isLoading:!0},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.postId,r=e.comments;(null==r||r.fetchingComments)&&t(function(e){return function(t){var n,r;return L.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return t(N(e)),a.prev=1,a.t0=L.a,a.next=5,L.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments?postId="+e));case 5:return a.t1=a.sent.json(),a.next=8,a.t0.awrap.call(a.t0,a.t1);case 8:n=a.sent,a.next=15;break;case 11:a.prev=11,a.t2=a.catch(1),r=!0,n=[];case 15:t(A(e,n.slice(0,5),r));case 16:case"end":return a.stop()}},null,null,[[1,11]])}}(n))}},{key:"render",value:function(){var e=this.props,t=e.comments,n=e.postId;return e.error?a.a.createElement("div",null,"Sorry there was an error! Please try again"):null==t||t.fetchingComments?a.a.createElement(x,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(Q,null,t.map(function(e,t){return a.a.createElement(D,Object.assign({},e,{key:t}))})),a.a.createElement(V,{postId:n}))}}]),t}(a.a.Component),J=Object(d.b)(function(e,t){var n=e.comments,r=n.items,a=n.error;return{comments:r[t.postId],error:a}})(X),H=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={isShowingComments:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.title,i=t.body,o=t.index,c=this.state.isShowingComments;return a.a.createElement("div",{style:{marginBottom:20,marginTop:20}},0!==o&&a.a.createElement("hr",null),a.a.createElement("div",{style:{fontSize:"1.2em"}},a.a.createElement("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between"}},a.a.createElement("div",{style:{marginBottom:10,fontSize:"1.2em",fontWeight:"bold"}},r)),a.a.createElement("div",null,i)),a.a.createElement("div",{style:{display:"flex",marginTop:20}},a.a.createElement(P,{onClick:function(){e.setState({isShowingComments:!c})}},c?"Comments \u2193 ":"Comments \u2192")),c&&a.a.createElement(J,{postId:n}))}}]),t}(r.Component);function $(){var e=Object(p.a)(["\n  @media (max-width: ","px) {\n    width: 98%;\n  }\n\n  width: 80%;\n  margin: 0 auto;\n  max-width: 1050px;\n"]);return $=function(){return e},e}var q=f.a.div($(),b.tablet),G=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(function(e){var t,n;return L.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e({type:"REQUEST_POSTS"}),r.prev=1,r.t0=L.a,r.next=5,L.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 5:return r.t1=r.sent.json(),r.next=8,r.t0.awrap.call(r.t0,r.t1);case 8:t=r.sent,r.next=15;break;case 11:r.prev=11,r.t2=r.catch(1),t=[],n=!0;case 15:e({type:"RECEIVE_POSTS",posts:(a={posts:t,error:n}).posts,error:a.error});case 16:case"end":return r.stop()}var a},null,null,[[1,11]])})}},{key:"render",value:function(){var e=this.props,t=e.posts,n=e.fetchingPosts;return e.error?a.a.createElement("div",null,"Sorry there was an error! Please try again"):n?a.a.createElement(x,null):a.a.createElement(q,null,t.map(function(e,t){return a.a.createElement(H,{key:e.id,id:e.id,title:e.title,body:e.body,index:t})}))}}]),t}(r.Component),K=Object(d.b)(function(e){var t=e.posts;return{fetchingPosts:t.fetchingPosts,posts:t.items,error:t.error}})(G),Z="UPDATE_SCROLL_Y",ee="UPDATE_SCREEN_WIDTH";var te=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).updateScroll=function(){var e=document.body.scrollTop||document.documentElement.scrollTop;n.props.dispatch({type:Z,scrollY:e})},n.updateScreen=function(){var e;n.props.dispatch((e=window.innerWidth,{type:ee,screenWidth:e}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.updateScroll),window.addEventListener("resize",this.updateScreen),this.updateScroll(),this.updateScreen()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.updateScroll),window.removeEventListener("resize",this.updateScreen)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(g,null),a.a.createElement(K,null))}}]),t}(a.a.Component),ne=Object(d.b)()(te);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=n(12),ae=n(28),ie=n(16),oe=n(8),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:{},error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_COMMENTS":return Object(oe.a)({},e,{items:Object(oe.a)({},e.items,Object(M.a)({},t.postId,{fetchingComments:!0}))});case"RECEIVE_COMMENTS":return Object(oe.a)({},e,{error:t.error,items:Object(oe.a)({},e.items,Object(M.a)({},t.postId,t.items))});case"ADD_COMMENT":var n=Object(oe.a)({},t.formData,{postId:t.postId}),r=[].concat(Object(ie.a)(e.items[t.postId]),[n]);return Object(oe.a)({},e,{items:Object(oe.a)({},e.items,Object(M.a)({},t.postId,r))});default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetchingPosts:!0,items:[],error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_POSTS":return Object(oe.a)({},e,{fetchingPosts:!0});case"RECEIVE_POSTS":return Object(oe.a)({},e,{fetchingPosts:!1,items:t.posts,error:t.error});default:return e}},le={scrollY:document.body.scrollTop||document.documentElement.scrollTop,screenWidth:window.innerWidth};var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(oe.a)({},e,{scrollY:t.scrollY});case ee:return Object(oe.a)({},e,{screenWidth:t.screenWidth});default:return e}},me=Object(re.c)({posts:se,comments:ce,userMetrics:ue}),de=Object(re.e)(me,Object(re.d)(Object(re.a)(ae.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(a.a.createElement(d.a,{store:de},a.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.eb0a4d6c.chunk.js.map