(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(44)},36:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(18),o=n.n(i),c=(n(36),n(1)),s=n(5),l=n(3),u=n(2),d=n(4),m=n(6),p=n(9),h=n(23),b=n(10),f={small:576,tablet:750};function v(){var e=Object(p.a)(["\n  @media (max-width: ","px) {\n    justify-content: space-around;\n  }\n\n  font-family: Chomsky;\n  padding: 0 5%;\n  position: sticky;\n  width: 100%;\n  top: 0px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  line-height: 1.3em;\n"]);return v=function(){return e},e}var g=Object(b.a)(h.a.header)(v(),f.tablet);var E=Object(m.b)(function(e){return{hasScrolled:e.userMetrics.scrollY>0,screenWidth:e.userMetrics.screenWidth}})(function(e){var t=e.hasScrolled,n=e.screenWidth,r=Object(h.b)({fontSize:n<=f.small?"2em":t?"2.5em":"3em",background:t?"linear-gradient(white 90%, lightblue 10%)":"linear-gradient(lightblue 0%, lightblue 100%)"});return a.a.createElement(g,{style:r},a.a.createElement("span",null,"Fake Latin News"),n>f.tablet&&a.a.createElement("span",{style:{fontSize:"0.5em",color:"#666"}},"Lorem ipsum dolor sit amet"))});function y(){var e=Object(p.a)(["\n  border-radius: 5px;\n  margin-top: 20px;\n  padding: 5px 15px;\n"]);return y=function(){return e},e}var O=b.a.div(y()),j=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.body,r=e.email,i=e.screenWidth;return a.a.createElement(O,null,a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10,flexDirection:i<=f.small&&"column"}},a.a.createElement("strong",{style:{marginBottom:i<=f.small&&10}},t),a.a.createElement("a",{href:"mailto:"+r},r)),a.a.createElement("div",null,n))}}]),t}(r.Component),w=Object(m.b)(function(e){return{screenWidth:e.userMetrics.screenWidth}})(j),S=n(8);function x(){var e=Object(p.a)(["\n  border-radius: 10px;\n  padding: 5px 10px;\n  font-weight: bold;\n\n  ",";\n"]);return x=function(){return e},e}var C=b.a.div(x(),function(e){return e.isDisabled?"\n        cursor: default;\n        background-color: lightgray;\n        border: 2px solid lightgray;\n      ":"\n        cursor: pointer;\n        background-color: #acd0e6;\n        border: 2px solid #acd0e6;\n      "}),k=n(15),I=n.n(k),T=function(e){return{type:"REQUEST_COMMENTS",postId:e}},_=function(e,t,n){return{type:"RECEIVE_COMMENTS",items:t,postId:e,error:n}},D=function(e,t){return{type:"ADD_COMMENT",postId:e,formData:t}};function M(){var e=Object(p.a)(["\n  @media (max-width: ","px) {\n    width: 100%;\n  }\n\n  width: 35%\n  border: none;\n  background-color: #efefef;\n  border-radius: 3px;\n  font-weight: bold;\n  line-height: 2em;\n  padding-left: 5px;\n"]);return M=function(){return e},e}var W=b.a.input(M(),f.tablet),P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={title:"",email:"",body:"",isDisplayingForm:!1},n.handleInputChange=function(e){n.setState(Object(S.a)({},e.currentTarget.name,e.currentTarget.value))},n.handleSubmit=function(){var e=n.props,t=e.dispatch,r=e.postId,a=n.state,i=a.title,o=a.email,c=a.body;""!==i&&""!==o&&""!==c&&(t(D(r,{name:i,email:o,body:c})),n.setState({title:"",email:"",body:""}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.title,r=t.email,i=t.body,o=t.isDisplayingForm,c=this.props.screenWidth;if(!o)return a.a.createElement(O,null,a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(C,{style:{marginBottom:10},onClick:function(){e.setState({isDisplayingForm:!0})}},a.a.createElement("strong",null,"Add a comment"))));var s=""===n||""===r||""===i,l=c<f.small;return a.a.createElement(O,null,a.a.createElement("div",{style:{display:"flex",marginBottom:10,flexDirection:l&&"column"}},a.a.createElement(W,{style:{marginRight:20,marginBottom:l&&10},value:n,onChange:this.handleInputChange,name:"title",placeholder:"Title..."}),a.a.createElement(W,{value:r,onChange:this.handleInputChange,name:"email",placeholder:"Email..."}),!l&&a.a.createElement(C,{style:{marginLeft:"auto"},isDisabled:s,onClick:this.handleSubmit},"Submit")),a.a.createElement("textarea",{style:{width:"100%",border:"none",backgroundColor:"#efefef",borderRadius:"5px",resize:"none",padding:"5px 10px",marginBottom:10},rows:3,name:"body",value:i,onChange:this.handleInputChange,placeholder:"Add a comment..."}),l&&a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(C,{isDisabled:s,onClick:this.handleSubmit},"Submit")))}}]),t}(a.a.Component),R=Object(m.b)(function(e){return{screenWidth:e.userMetrics.screenWidth}})(P);function L(){var e=Object(p.a)(["\n  @media (max-width: ","px) {\n    width: 100%;\n    margin-left: 0%;\n  }\n\n  margin-left: 5%;\n  width: 90%;\n"]);return L=function(){return e},e}var N=b.a.div(L(),f.tablet),A=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={isLoading:!0},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.postId,r=e.comments;(null==r||r.fetchingComments)&&t(function(e){return function(t){var n,r;return I.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return t(T(e)),a.prev=1,a.t0=I.a,a.next=5,I.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments?postId="+e));case 5:return a.t1=a.sent.json(),a.next=8,a.t0.awrap.call(a.t0,a.t1);case 8:n=a.sent,a.next=15;break;case 11:a.prev=11,a.t2=a.catch(1),r=!0,n=[];case 15:t(_(e,n.slice(0,5),r));case 16:case"end":return a.stop()}},null,null,[[1,11]])}}(n))}},{key:"render",value:function(){var e=this.props,t=e.comments,n=e.postId;return e.error?a.a.createElement("div",null,"Sorry there was an error! Please try again"):null==t||t.fetchingComments?a.a.createElement("div",null,"Fetching comments"):a.a.createElement(a.a.Fragment,null,a.a.createElement(N,null,t.map(function(e,t){return a.a.createElement(w,Object.assign({},e,{key:t}))})),a.a.createElement(R,{postId:n}))}}]),t}(a.a.Component),B=Object(m.b)(function(e,t){var n=e.comments,r=n.items,a=n.error;return{comments:r[t.postId],error:a}})(A),U=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={isShowingComments:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.title,i=t.body,o=t.index,c=this.state.isShowingComments;return a.a.createElement("div",{style:{marginBottom:20,marginTop:20}},0!==o&&a.a.createElement("hr",null),a.a.createElement("div",{style:{fontSize:"1.2em"}},a.a.createElement("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between"}},a.a.createElement("div",{style:{marginBottom:10,fontSize:"1.2em",fontWeight:"bold"}},r)),a.a.createElement("div",null,i)),a.a.createElement("div",{style:{display:"flex",marginTop:20}},a.a.createElement(C,{onClick:function(){e.setState({isShowingComments:!c})}},c?"Comments \u2193 ":"Comments \u2192")),c&&a.a.createElement(B,{postId:n}))}}]),t}(r.Component);function z(){var e=Object(p.a)(["\n  @media (max-width: ","px) {\n    width: 98%;\n  }\n\n  width: 80%;\n  margin: 0 auto;\n  max-width: 1050px;\n"]);return z=function(){return e},e}var F=b.a.div(z(),f.tablet),V=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(function(e){var t,n;return I.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e({type:"REQUEST_POSTS"}),r.prev=1,r.t0=I.a,r.next=5,I.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 5:return r.t1=r.sent.json(),r.next=8,r.t0.awrap.call(r.t0,r.t1);case 8:t=r.sent,r.next=15;break;case 11:r.prev=11,r.t2=r.catch(1),t=[],n=!0;case 15:e({type:"RECEIVE_POSTS",posts:(a={posts:t,error:n}).posts,error:a.error});case 16:case"end":return r.stop()}var a},null,null,[[1,11]])})}},{key:"render",value:function(){var e=this.props,t=e.posts,n=e.fetchingPosts;return e.error?a.a.createElement("div",null,"Sorry there was an error! Please try again"):n?a.a.createElement("h3",null,"Loading Posts!"):a.a.createElement(F,null,t.map(function(e,t){return a.a.createElement(U,{key:e.id,id:e.id,title:e.title,body:e.body,index:t})}))}}]),t}(r.Component),Y=Object(m.b)(function(e){var t=e.posts;return{fetchingPosts:t.fetchingPosts,posts:t.items,error:t.error}})(V),Q="UPDATE_SCROLL_Y",X="UPDATE_SCREEN_WIDTH";var J=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).updateScroll=function(){var e=document.body.scrollTop||document.documentElement.scrollTop;n.props.dispatch({type:Q,scrollY:e})},n.updateScreen=function(){var e;n.props.dispatch((e=window.innerWidth,{type:X,screenWidth:e}))},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.updateScroll),window.addEventListener("resize",this.updateScreen),this.updateScroll(),this.updateScreen()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.updateScroll),window.removeEventListener("resize",this.updateScreen)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(E,null),a.a.createElement(Y,null))}}]),t}(a.a.Component),H=Object(m.b)()(J);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=n(12),q=n(28),G=n(16),K=n(7),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:{},error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_COMMENTS":return Object(K.a)({},e,{items:Object(K.a)({},e.items,Object(S.a)({},t.postId,{fetchingComments:!0}))});case"RECEIVE_COMMENTS":return Object(K.a)({},e,{error:t.error,items:Object(K.a)({},e.items,Object(S.a)({},t.postId,t.items))});case"ADD_COMMENT":var n=Object(K.a)({},t.formData,{postId:t.postId}),r=[].concat(Object(G.a)(e.items[t.postId]),[n]);return Object(K.a)({},e,{items:Object(K.a)({},e.items,Object(S.a)({},t.postId,r))});default:return e}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetchingPosts:!0,items:[],error:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_POSTS":return Object(K.a)({},e,{fetchingPosts:!0});case"RECEIVE_POSTS":return Object(K.a)({},e,{fetchingPosts:!1,items:t.posts,error:t.error});default:return e}},te={scrollY:0,screenWidth:0};var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(K.a)({},e,{scrollY:t.scrollY});case X:return Object(K.a)({},e,{screenWidth:t.screenWidth});default:return e}},re=Object($.c)({posts:ee,comments:Z,userMetrics:ne}),ae=Object($.e)(re,Object($.d)(Object($.a)(q.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(a.a.createElement(m.a,{store:ae},a.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.c87d8e13.chunk.js.map